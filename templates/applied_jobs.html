{% extends 'base.html' %}

{% block content %}
<div class="container" style="max-width: 900px; margin: 2rem auto; padding: 2rem;">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
        <h2 style="color: var(--primary-color); margin: 0;">ðŸ“Œ Applied Internships & Jobs</h2>
        <a href="{% url 'dashboard' %}" class="btn" style="background: #f0f2f5; color: #333;">Back to Dashboard</a>
    </div>

    <div style="background: white; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.05); overflow: hidden;">
        <table style="width: 100%; border-collapse: collapse;">
            <thead>
                <tr style="background: #f8f9fa; text-align: left;">
                    <th style="padding: 1rem; border-bottom: 2px solid #eee;">Role</th>
                    <th style="padding: 1rem; border-bottom: 2px solid #eee;">Company</th>
                    <th style="padding: 1rem; border-bottom: 2px solid #eee;">Applied On</th>
                    <th style="padding: 1rem; border-bottom: 2px solid #eee;">Status</th>
                </tr>
            </thead>
            <tbody>
                {% for app in applications %}
                <tr style="border-bottom: 1px solid #eee;">
                    <td style="padding: 1rem; font-weight: 500;">{{ app.opportunity.title }}</td>
                    <td style="padding: 1rem; color: #555;">{{ app.opportunity.company }}</td>
                    <td style="padding: 1rem; color: #777;">{{ app.applied_at|date:"M d, Y" }}</td>
                    <td style="padding: 1rem;">
                        <span style="padding: 4px 10px; border-radius: 12px; font-size: 0.85rem; 
                            background: {% if app.status == 'accepted' %}#d4edda; color: #155724;
                            {% elif app.status == 'rejected' %}#f8d7da; color: #721c24;
                            {% elif app.status == 'interview' %}#fff3cd; color: #856404;
                            {% else %}#e2e3e5; color: #383d41;{% endif %}">
                            {{ app.get_status_display }}
                        </span>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="4" style="padding: 2rem; text-align: center; color: #777;">You haven't applied to any
                        opportunities yet.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}