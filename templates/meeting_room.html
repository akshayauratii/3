{% extends 'base.html' %}

{% block content %}
<div class="container"
    style="max-width: 1200px; margin: 0 auto; padding: 1rem; height: 90vh; display: flex; flex-direction: column;">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
        <h2 style="margin: 0;">ðŸŽ¥ Meeting Room</h2>
        <a href="{% url 'tea_time' %}" class="btn" style="background: #dc3545; color: white;">Leave Meeting</a>
    </div>

    <div style="flex: 1; display: grid; grid-template-columns: 3fr 1fr; gap: 1rem; height: 100%;">
        <!-- Video Area -->
        <div
            style="background: #000; border-radius: 12px; position: relative; display: flex; align-items: center; justify-content: center; overflow: hidden;">
            <p style="color: white; font-size: 1.5rem;">Waiting for others to join...</p>

            <div
                style="position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%); display: flex; gap: 1rem; background: rgba(0,0,0,0.5); padding: 10px 20px; border-radius: 30px;">
                <button
                    style="background: white; border: none; width: 40px; height: 40px; border-radius: 50%; cursor: pointer;">ðŸŽ¤</button>
                <button
                    style="background: white; border: none; width: 40px; height: 40px; border-radius: 50%; cursor: pointer;">ðŸ“·</button>
                <button
                    style="background: #dc3545; border: none; width: 40px; height: 40px; border-radius: 50%; cursor: pointer; color: white;">ðŸ“ž</button>
            </div>
        </div>

        <!-- Chat Sidebar -->
        <div
            style="background: white; border-radius: 12px; display: flex; flex-direction: column; overflow: hidden; border: 1px solid #ddd;">
            <div style="padding: 1rem; border-bottom: 1px solid #eee; font-weight: bold;">
                Meeting Chat
            </div>

            <div style="flex: 1; padding: 1rem; overflow-y: auto; background: #f9f9f9;">
                <div style="margin-bottom: 1rem;">
                    <strong>Host:</strong> <span style="color: #555;">Welcome everyone!</span>
                </div>
                <div style="margin-bottom: 1rem;">
                    <strong>Alice:</strong> <span style="color: #555;">Hi! Excited to be here.</span>
                </div>
            </div>

            <div style="padding: 1rem; border-top: 1px solid #eee; display: flex; gap: 5px;">
                <input type="text" placeholder="Type a message..."
                    style="flex: 1; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                <button class="btn" style="padding: 0 15px;">Send</button>
            </div>
        </div>
    </div>
</div>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const input = document.querySelector('input[type="text"]');
        const sendBtn = document.querySelector('button.btn');
        const chatContainer = document.querySelector('div[style*="overflow-y: auto"]');

        function sendMessage() {
            const text = input.value.trim();
            if (text) {
                const msgDiv = document.createElement('div');
                msgDiv.style.marginBottom = '1rem';
                msgDiv.innerHTML = `<strong>Me:</strong> <span style="color: #555;">${text}</span>`;
                chatContainer.appendChild(msgDiv);
                input.value = '';
                chatContainer.scrollTop = chatContainer.scrollHeight;
            }
        }

        sendBtn.addEventListener('click', sendMessage);
        input.addEventListener('keypress', function (e) {
            if (e.key === 'Enter') sendMessage();
        });
    });
</script>
{% endblock %}